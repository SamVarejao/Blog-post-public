(function(t){function e(e){for(var a,i,r=e[0],c=e[1],l=e[2],d=0,p=[];d<r.length;d++)i=r[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&p.push(n[i][0]),n[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(p.length)p.shift()();return o.push.apply(o,l||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],a=!0,r=1;r<s.length;r++){var c=s[r];0!==n[c]&&(a=!1)}a&&(o.splice(e--,1),t=i(i.s=s[0]))}return t}var a={},n={app:0},o=[];function i(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=a,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(s,a,function(e){return t[e]}.bind(null,a));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"05cc":function(t,e,s){},"0a6a":function(t,e,s){"use strict";var a=s("9c11"),n=s.n(a);n.a},2024:function(t,e,s){"use strict";var a=s("351f"),n=s.n(a);n.a},2052:function(t,e,s){},"2aba":function(t,e,s){},"307e":function(t,e,s){},"345b":function(t,e,s){"use strict";var a=s("307e"),n=s.n(a);n.a},"351f":function(t,e,s){},"3c42":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e),s.d(e,"bus",(function(){return Dt}));s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:" grid",attrs:{id:"app"}},[s("div",{staticClass:"a",attrs:{id:"navbar"}},[s("router-view",{attrs:{name:"a"}})],1),s("div",{staticClass:"b",attrs:{id:"content"}},[s("router-view",{attrs:{name:"b"}})],1)])},o=[],i={name:"App"},r=i,c=(s("5c0b"),s("2877")),l=Object(c["a"])(r,n,o,!1,null,null,null),u=l.exports,d=s("8c4f"),p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper "},[s("div",{staticClass:"formDiv"},[s("h2",{staticClass:"title"},[t._v("Login")]),s("form",{on:{submit:t.login}},[t._m(0),t._m(1),t._m(2),t._m(3),s("div",[s("button",{ref:"loginBtn",staticClass:"mdc-button mdc-button--raised btnScale customTheme"},[s("span",{attrs:{type:"submit",value:"Login"}}),s("span",{staticClass:"mdc-button__ripple"}),t._m(4),s("span",{staticClass:"mdc-button__touch"})])])]),s("p",[t._v(t._s(t.error))])]),t._m(5)])},m=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("label",[s("h3",[t._v("E-mail:")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("input",{attrs:{type:"text",name:"email",id:"email",autofocus:"",required:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("label",[s("h3",[t._v("Password:")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("input",{attrs:{type:"password",name:"password",id:"password",required:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"mdc-button__label"},[s("p",[t._v("Login")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"introDiv"},[s("h2",[t._v(" If you can blog it, you can post it! ")]),s("p",[t._v(" Join a community of writters from all walks of life and share your story, thoughts or know-how. ")])])}],v=s("bc3a"),_=s.n(v),f=s("40ff"),h={name:"Login",data:function(){return{error:""}},methods:{login:function(t){var e=this;t.preventDefault();var s=t.target.elements.email.value,a=t.target.elements.password.value,n=function(){var t={email:s,password:a};_.a.post("/api/login",t).then((function(){console.log("Log in successful"),kt.push("/")})).catch((function(t){console.log(t.response.data[1].Error),e.error=t.response.data[1].Error}))};n()}},mounted:function(){this.ripple=new f["a"](this.$refs.loginBtn)},destroyed:function(){this.ripple.destroy()}},b=h,g=(s("b3d2"),Object(c["a"])(b,p,m,!1,null,"5232196b",null)),C=g.exports,w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper"},[s("div",{staticClass:"formDiv"},[s("h2",{staticClass:"title"},[t._v("Sign Up")]),s("form",{on:{submit:t.register}},[t._m(0),t._m(1),t._m(2),t._m(3),t._m(4),t._m(5),t._m(6),t._m(7),s("div",[s("button",{ref:"registerBtn",staticClass:"mdc-button mdc-button--raised btnScale customTheme"},[s("span",{attrs:{type:"submit",value:"Register"}}),s("span",{staticClass:"mdc-button__ripple"}),t._m(8),s("span",{staticClass:"mdc-button__touch"})])]),s("div",[s("ul",t._l(t.errors,(function(e,a){return s("li",{key:a},[t._v(" "+t._s(e)+" ")])})),0)]),s("div")])]),t._m(9)])},y=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("label",[s("h3",[t._v("Username:")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("input",{attrs:{type:"text",name:"username",id:"username",maxlength:"10",required:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("label",[s("h3",[t._v("E-mail:")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("input",{attrs:{type:"email",name:"email",id:"email",autofocus:"",required:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("label",[s("h3",[t._v("Password:")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("input",{attrs:{type:"password",name:"password",id:"password",required:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("label",[s("h3",[t._v("Confirm password:")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("input",{staticClass:"maintainHeight",attrs:{type:"password",name:"password2",id:"password2",required:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"mdc-button__label"},[s("p",[t._v("Sign Up")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"introDiv"},[s("h2",[t._v(" If you can blog it, you can post it! ")]),s("p",[t._v(" Join a community of writters from all walks of life and share your story, thoughts or know-how. ")])])}],k={name:"Register",data:function(){return{errors:null}},methods:{register:function(t){var e=this;t.preventDefault();var s=t.target.elements.username.value,a=t.target.elements.password.value,n=t.target.elements.email.value,o=t.target.elements.password2.value,i=function(){var t={username:s,email:n,password:a,password2:o};_.a.post("/api/register",t).then((function(){kt.push("/")})).catch((function(t){e.errors=t.response.data[0]}))};i()}},mounted:function(){this.ripple=new f["a"](this.$refs.registerBtn)},destroyed:function(){this.ripple.destroy()}},D=k,E=(s("345b"),Object(c["a"])(D,w,y,!1,null,"4cb92e80",null)),P=E.exports,S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper"},[s("p",[t._v(t._s(t.error))]),s("div",{staticClass:"sideDiv"},[s("div",{staticClass:"panel"},[s("form",{on:{submit:t.search}},[s("input",{attrs:{type:"text",placeholder:"Search Post...",name:"search"}}),s("button",{ref:"searchBtn",staticClass:"mdc-button mdc-button--raised btnScale customTheme"},[s("span",{attrs:{type:"submit",value:"Search",name:"search"}}),s("span",{staticClass:"mdc-button__ripple"}),t._m(0),s("span",{staticClass:"mdc-button__touch"})])]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected=e.target.multiple?s:s[0]},t.orderPosts]}},[s("option",{attrs:{disabled:"",value:""}},[t._v("Sort by:")]),s("option",{attrs:{value:"1"}},[t._v("Title -A-Z")]),s("option",{attrs:{value:"2"}},[t._v("Title -Z-A")]),s("option",{attrs:{value:"3"}},[t._v("Date -Oldest")]),s("option",{attrs:{value:"4"}},[t._v("Date -Newest")])])]),s("div",{staticClass:"userDiv"},[s("h4",[t._v(" Welcome, "+t._s(t.user.name)),s("span",{staticClass:"tag"},[t._v("@"+t._s(t.user.nameTag))])]),s("div",{staticClass:"avatarDiv"},[s("img",{attrs:{src:t.user.avatar,alt:"",srcset:""}}),t._m(1),s("input",{ref:"fileSelec",staticStyle:{display:"none"},attrs:{type:"file",id:"avatar",name:"avatar",accept:"image/png, image/jpeg, image/jpg"},on:{change:t.loadFile}})])])]),s("div",{staticClass:"postList"},t._l(t.posts,(function(t,e){return s("post-box",{key:e,attrs:{title:t.title,author:t.author,date:t.date,link:t._id}})})),1)])},$=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"mdc-button__label"},[s("p",[t._v("Search")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{attrs:{for:"avatar"}},[s("p",[t._v("Change avatar")])])}],x=(s("ac1f"),s("841c"),s("d5b5")),A=s.n(x),I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper"},[s("router-link",{attrs:{to:{name:"post",params:{id:t.link}}}},[s("div",{staticClass:"mdc-card mdc-card--outlined border"},[s("h1",[t._v(t._s(t.title))]),s("p",[t._v("by: "+t._s(t.author))]),s("p",[t._v(t._s(t.date))])])])],1)},T=[],O={props:["title","author","date","link"]},j=O,B=(s("2024"),Object(c["a"])(j,I,T,!1,null,"080c28ce",null)),L=B.exports,q={name:"Posts",data:function(){return{posts:null,error:"",selected:"",user:"null"}},components:{PostBox:L},methods:{orderPosts:function(){switch(this.selected){case"1":this.orderTitleA();break;case"2":this.orderTitleD();break;case"3":this.orderDateA();break;case"4":this.orderDateD();break}},orderTitleA:function(){function t(t,e){return t.title<e.title?-1:t.title>e.title?1:0}return this.posts.sort(t)},orderTitleD:function(){function t(t,e){return t.title<e.title?1:t.title>e.title?-1:0}return this.posts.sort(t)},orderDateA:function(){function t(t,e){var s=new Date(t.date),a=new Date(e.date);return s-a}return this.posts.sort(t)},orderDateD:function(){function t(t,e){var s=new Date(t.date),a=new Date(e.date);return a-s}return this.posts.sort(t)},getUserData:function(){var t=this;A.a.getPosts("/api/user").then((function(e){t.user=e.data.user,localStorage.setItem("Id",e.data.user.id)})).catch((function(t){console.log(t),kt.push("/register")}))},loadFile:function(){var t=this.$refs.fileSelec.files[0],e=new FileReader;e.readAsDataURL(t),e.onload=function(t){var e=document.createElement("img");e.src=t.target.result,e.onload=function(t){var e=document.createElement("canvas"),s=300,a=s/t.target.width;e.width=s,e.height=t.target.height*a;var n=e.getContext("2d");n.drawImage(t.target,0,0,e.width,e.height);var o=n.canvas.toDataURL(t.target,"image/jpeg"),i={newAvatar:o};_.a.post("/api/avatar",i).catch((function(t){console.log(t)}))}}},search:function(t){var e=this;t.preventDefault();var s=t.target.elements.search.value;console.log(s),A.a.getPosts("/api/posts?search=".concat(s)).then((function(t){e.posts=t.data,console.log(t.data)})).catch((function(t){console.log(t)}))}},created:function(){var t=this;try{A.a.getPosts("/api/posts/").then((function(e){t.posts=e.data})).then((function(){t.getUserData()})).then((function(){t.orderDateD()}))}catch(e){this.error=e.message}}},H=q,U=(s("f5a9"),Object(c["a"])(H,S,$,!1,null,"270b5cdc",null)),M=U.exports,N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper"},[s("div",{staticClass:"postGrid"},[s("div",{staticClass:"titleDiv"},[s("form",{on:{submit:t.create}},[s("input",{staticClass:"marginLeft",attrs:{placeholder:"Title",type:"text",name:"title",id:"title",maxlength:"50",required:""}}),s("br"),t._m(0)])]),s("editor-menu-bar",{staticClass:"panel grd2",attrs:{editor:t.editor},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.commands,n=e.isActive;return[s("div",[s("button",{staticClass:"mdc-button mdc-button--outlined md-custom",on:{click:a.undo}},[s("span",{staticClass:"mdc-button__ripple"}),s("span",{staticClass:"mdc-button__label"}),s("span",{staticClass:"mdc-button__touch"}),s("span"),s("span",{staticClass:"material-icons md-customIcon"},[t._v(" undo ")])]),s("button",{staticClass:"mdc-button mdc-button--outlined  md-custom",on:{click:a.redo}},[s("span",{staticClass:"mdc-button__ripple"}),s("span",{staticClass:"mdc-button__label"}),s("span",{staticClass:"mdc-button__touch"}),s("span",{staticClass:"material-icons md-customIcon"},[t._v(" redo ")])]),s("button",{staticClass:"mdc-button mdc-button--outlined btnIconScale md-custom",class:{active:n.heading({level:1})},attrs:{title:"Header 1"},on:{click:function(t){return a.heading({level:1})}}},[s("span",{staticClass:"mdc-button__ripple"}),s("span",{staticClass:"mdc-button__label"}),s("span",{staticClass:"mdc-button__touch"}),s("p",{staticClass:"tagBtnScale"},[t._v("<h1>")])]),s("button",{staticClass:"mdc-button mdc-button--outlined btnIconScale md-custom",class:{active:n.heading({level:2})},attrs:{title:"Header 2"},on:{click:function(t){return a.heading({level:2})}}},[s("span",{staticClass:"mdc-button__ripple"}),s("span",{staticClass:"mdc-button__label"}),s("span",{staticClass:"mdc-button__touch"}),s("p",{staticClass:"tagBtnScale"},[t._v("<h2>")])]),s("button",{staticClass:"mdc-button mdc-button--outlined md-custom",class:{active:n.bold()},attrs:{title:"Bold"},on:{click:a.bold}},[s("span",{staticClass:"mdc-button__ripple"}),s("span",{staticClass:"mdc-button__label"}),s("span",{staticClass:"mdc-button__touch"}),s("span",{staticClass:"material-icons md-customIcon"},[t._v(" format_bold ")])]),s("button",{staticClass:"mdc-button mdc-button--outlined md-custom",class:{active:n.italic()},attrs:{title:"Italic"},on:{click:a.italic}},[s("span",{staticClass:"mdc-button__ripple"}),s("span",{staticClass:"mdc-button__label"}),s("span",{staticClass:"mdc-button__touch"}),s("span",{staticClass:"material-icons md-customIcon"},[t._v(" format_italic ")])]),s("button",{staticClass:"mdc-button mdc-button--outlined md-custom",class:{active:n.strike()},attrs:{title:"Strike"},on:{click:a.strike}},[s("span",{staticClass:"mdc-button__ripple"}),s("span",{staticClass:"mdc-button__label"}),s("span",{staticClass:"mdc-button__touch"}),s("span",{staticClass:"material-icons md-customIcon"},[t._v(" strikethrough_s ")])]),s("button",{staticClass:"mdc-button mdc-button--outlined md-custom",class:{active:n.underline()},attrs:{title:"Underline"},on:{click:a.underline}},[s("span",{staticClass:"mdc-button__ripple"}),s("span",{staticClass:"mdc-button__label"}),s("span",{staticClass:"mdc-button__touch"}),s("span",{staticClass:"material-icons md-customIcon"},[t._v(" format_underlined ")])]),s("button",{staticClass:"mdc-button mdc-button--outlined btnIconScale md-custom",class:{active:n.paragraph()},attrs:{title:"Paragraph"},on:{click:a.paragraph}},[s("span",{staticClass:"mdc-button__ripple"}),s("span",{staticClass:"mdc-button__label"}),s("span",{staticClass:"mdc-button__touch"}),s("p",{staticClass:"tagBtnScale"},[t._v("Â¶")])]),s("button",{staticClass:"mdc-button mdc-button--outlined md-custom",class:{active:n.bullet_list()},attrs:{title:"Bullet list"},on:{click:a.bullet_list}},[s("span",{staticClass:"mdc-button__ripple"}),s("span",{staticClass:"mdc-button__label"}),s("span",{staticClass:"mdc-button__touch"}),s("span",{staticClass:"material-icons md-customIcon"},[t._v(" format_list_bulleted ")])]),s("button",{staticClass:"mdc-button mdc-button--outlined md-custom",class:{active:n.ordered_list()},attrs:{title:"Ordered list"},on:{click:a.ordered_list}},[s("span",{staticClass:"mdc-button__ripple"}),s("span",{staticClass:"mdc-button__label"}),s("span",{staticClass:"mdc-button__touch"}),s("span",{staticClass:"material-icons md-customIcon"},[t._v(" format_list_numbered ")])]),s("button",{staticClass:"mdc-button mdc-button--outlined md-custom",class:{active:n.blockquote()},attrs:{title:"Blockquote"},on:{click:a.blockquote}},[s("span",{staticClass:"mdc-button__ripple"}),s("span",{staticClass:"mdc-button__label"}),s("span",{staticClass:"mdc-button__touch"}),s("span",{staticClass:"material-icons md-customIcon"},[t._v(" format_quote ")])]),s("button",{staticClass:"mdc-button mdc-button--outlined md-custom",class:{active:n.code()},attrs:{title:"Code"},on:{click:a.code}},[s("span",{staticClass:"mdc-button__ripple"}),s("span",{staticClass:"mdc-button__label"}),s("span",{staticClass:"mdc-button__touch"}),s("span",{staticClass:"material-icons md-customIcon"},[t._v(" code ")])]),s("button",{staticClass:"mdc-button mdc-button--outlined md-custom",class:{active:n.code_block()},attrs:{title:"Code block"},on:{click:a.code_block}},[s("span",{staticClass:"mdc-button__ripple"}),s("span",{staticClass:"mdc-button__label"}),s("span",{staticClass:"mdc-button__touch"}),s("span",{staticClass:"material-icons md-customIcon"},[t._v(" code ")])]),s("button",{staticClass:"mdc-button mdc-button--outlined md-custom",attrs:{title:"Horizontal rule"},on:{click:a.horizontal_rule}},[s("span",{staticClass:"mdc-button__ripple"}),s("span",{staticClass:"mdc-button__label"}),s("span",{staticClass:"mdc-button__touch"}),s("span",{staticClass:"material-icons md-customIcon"},[t._v(" horizontal_rule ")])]),s("button",{staticClass:"mdc-button mdc-button--outlined md-custom",attrs:{title:"Image"},on:{click:function(e){return t.showImagePrompt(a.image)}}},[s("span",{staticClass:"mdc-button__ripple"}),s("span",{staticClass:"mdc-button__label"}),s("span",{staticClass:"mdc-button__touch"}),s("span",{staticClass:"material-icons md-customIcon"},[t._v(" insert_photo ")])])])]}}])})],1),s("editor-content",{staticClass:"editor__content editorStyle",attrs:{editor:t.editor}})],1)},R=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"mdc-button mdc-button--raised btnScale"},[s("span",{staticClass:"mdc-button__ripple"}),s("span",{staticClass:"mdc-button__label"},[t._v("Create")]),s("span",{staticClass:"mdc-button__touch"}),s("span",{attrs:{type:"submit",value:"Create"}})])}],J=(s("d81d"),s("cd42")),Z=s("f23d"),z={name:"Create",components:{EditorContent:J["b"],EditorMenuBar:J["c"]},data:function(){var t=this;return{error:"",html:null,editor:new J["a"]({extensions:[new Z["a"],new Z["c"],new Z["e"],new Z["f"],new Z["g"]({levels:[1,2,3]}),new Z["i"],new Z["m"],new Z["n"],new Z["p"],new Z["q"],new Z["l"],new Z["b"],new Z["d"],new Z["k"],new Z["o"],new Z["r"],new Z["h"],new Z["j"]],content:"Tell the world what you think!",onUpdate:function(e){var s=e.getHTML;t.html=s()}})}},methods:{create:function(t){var e=this;t.preventDefault();var s=t.target.elements.title.value,a=this.html,n=function(){var t={title:s,content:a};_.a.post("/api/posts",t).then((function(){console.log("Creation successful"),kt.push("/")})).catch((function(t){e.error=t,console.log(t)}))};n()},showImagePrompt:function(t){var e=prompt("URL:");null!==e&&t({src:e})}},mounted:function(){this.ripple=[].map.call(document.querySelectorAll(".mdc-button"),(function(t){return new f["a"](t)})),console.log(this.ripple)},destroyed:function(){this.ripple.destroy()},beforeDestroy:function(){this.editor.destroy()}},F=z,G=(s("dbec"),Object(c["a"])(F,N,R,!1,null,"00224400",null)),W=G.exports,K=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper"},[s("p",[t._v(t._s(t.error))]),s("div",{staticClass:"sideDiv"},[t._m(0),s("div",{staticClass:"panel"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected=e.target.multiple?s:s[0]},t.orderPosts]}},[s("option",{attrs:{disabled:"",value:""}},[t._v("Sort by:")]),s("option",{attrs:{value:"1"}},[t._v("Title -A-Z")]),s("option",{attrs:{value:"2"}},[t._v("Title -Z-A")]),s("option",{attrs:{value:"3"}},[t._v("Date -Oldest")]),s("option",{attrs:{value:"4"}},[t._v("Date -Newest")])])])]),s("div",{staticClass:"postList"},t._l(t.posts,(function(t,e){return s("post-box",{key:e,attrs:{title:t.title,author:t.author,date:t.date,link:t._id}})})),1),t._v(" "+t._s(t.error)+" ")])},Q=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"userDiv"},[s("h4",[t._v(" My Posts ")])])}],V={name:"posts",data:function(){return{posts:null,error:"",selected:""}},components:{PostBox:L},methods:{orderPosts:function(){switch(this.selected){case"1":this.orderTitleA();break;case"2":this.orderTitleD();break;case"3":this.orderDateA();break;case"4":this.orderDateD();break}},orderTitleA:function(){function t(t,e){return t.title<e.title?-1:t.title>e.title?1:0}return this.posts.sort(t)},orderTitleD:function(){function t(t,e){return t.title<e.title?1:t.title>e.title?-1:0}return this.posts.sort(t)},orderDateA:function(){function t(t,e){var s=new Date(t.date),a=new Date(e.date);return s-a}return this.posts.sort(t)},orderDateD:function(){function t(t,e){var s=new Date(t.date),a=new Date(e.date);return a-s}return this.posts.sort(t)},deletePost:function(t){var e="/api/posts/"+t;_.a.delete(e).then((function(){kt.push("/")})).catch((function(t){console.log(t)}))}},created:function(){var t=this;try{A.a.getPosts("/api/myposts/").then((function(e){t.posts=e.data})).then((function(){t.orderDateD()}))}catch(e){this.error=e.message}}},X=V,Y=(s("0a6a"),Object(c["a"])(X,K,Q,!1,null,"5e1d9781",null)),tt=Y.exports,et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"postGrid"},[s("div",{staticClass:"articleDiv"},[s("div",{staticClass:"header"},[s("h1",[t._v(t._s(t.post.title))]),s("div",[s("img",{attrs:{src:t.avatar,alt:"",srcset:""}}),s("p",[t._v(t._s(t.post.author))]),s("p",{staticClass:"grey"},[t._v(t._s(t.post.date))])])]),s("div",{ref:"article",staticClass:"article",domProps:{innerHTML:t._s(this.post.content)}})]),s("div",{staticClass:"controlBar"},[s("div",{staticClass:"likeDiv"},[s("p",[t._v(t._s(t.post.points))])]),s("button",{staticClass:"like-button mdc-button mdc-button--outlined btnScale customTheme",class:{active:this.isActive},on:{click:function(e){return t.likePost()}}},[s("span",{staticClass:"mdc-button__ripple"}),s("span",{staticClass:"mdc-button__label"},[t._v("Like")]),s("span",{staticClass:"mdc-button__touch"})]),t.checkAuthor()?s("div",{staticClass:"buttonBox"},[s("button",{staticClass:"delete-button mdc-button mdc-button--raised btnScale dangerTheme",on:{click:function(e){return t.deletePost(t.post._id)}}},[s("span",{staticClass:"mdc-button__ripple"}),s("span",{staticClass:"mdc-button__label"},[t._v("Delete")]),s("span",{staticClass:"mdc-button__touch"})])]):t._e()])])},st=[],at={name:"post",data:function(){return{post:"null",isActive:!1,avatar:"null"}},methods:{deletePost:function(){var t="/api/posts/".concat(this.$route.params.id);confirm("Once deleted your post cannot be recovered. Are you sure?")&&_.a.delete(t).then((function(){kt.push("/")})).catch((function(t){console.log(t)}))},likePost:function(){var t=this,e="/api/posts/".concat(this.$route.params.id);_.a.post(e,{data:this.post.points}).then((function(e){t.post.points=e.data.points;var s=1!=t.isActive;t.isActive=s})).catch((function(t){console.log(t)}))},checkAuthor:function(){return this.post.authorID==localStorage.getItem("Id")},getPostData:function(){var t=this;A.a.getPosts("/api/posts/".concat(this.$route.params.id)).then((function(e){t.post=e.data.posts,t.isActive=e.data.hasPoint})).then((function(){for(var t=document.querySelectorAll(".article"),e=t[0].children.length,s=0;s<e;s++){var a=t[0].children[s].children[0];void 0!=a&&(t[0].children[s].children[0].style.cssText+="max-width: 60vw; max-height: 60vh; display:block; margin:auto")}}))},getAuthAvatar:function(){var t=this;A.a.getPosts("/api/authAvatar/".concat(this.post.authorID)).then((function(e){t.avatar=e.data}))}},created:function(){var t=this;try{this.getPostData().then((function(){t.checkAuthor()}))}catch(e){console.error(e),this.error=e.message}},updated:function(){this.getAuthAvatar(),this.ripple=[].map.call(document.querySelectorAll(".mdc-button"),(function(t){return new f["a"](t)}))}},nt=at,ot=(s("7558"),Object(c["a"])(nt,et,st,!1,null,"537dfce4",null)),it=ot.exports,rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"\nnav",attrs:{id:"nav"}},[a("div"),a("div",[a("router-link",{staticClass:"header",attrs:{to:"/login"}},[a("img",{staticClass:"mainIcon",attrs:{src:s("e0dd"),alt:"",srcset:""}}),a("h1",[t._v("Bitpages")])])],1),a("div",{staticClass:"grd2"}),a("div",{staticClass:"onHover grd2"},[a("router-link",{attrs:{to:"/login"}},[a("h3",[t._v("Login")])])],1),a("div",{staticClass:"onHover grd2"},[a("router-link",{attrs:{to:"/register"}},[a("h3",[t._v("Sign up")])])],1)])},ct=[],lt={name:"Navbar_out"},ut=lt,dt=(s("9229"),Object(c["a"])(ut,rt,ct,!1,null,"4978a4ad",null)),pt=dt.exports,mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:" nav",attrs:{id:"nav"}},[a("div"),a("div",{staticClass:"grd1"},[a("router-link",{staticClass:"header ",attrs:{to:"/"}},[a("img",{staticClass:"mainIcon",attrs:{src:s("e0dd"),alt:"",srcset:""}}),a("h1",[t._v("Bitpages")])])],1),a("div"),a("div",{staticClass:"onHover grd2"},[a("router-link",{attrs:{to:"/createpost"}},[a("span",{staticClass:"material-icons"},[t._v(" post_add ")])])],1),a("div",{staticClass:"onHover grd2"},[a("router-link",{attrs:{to:"/"}},[a("span",{staticClass:"material-icons-outlined"},[t._v(" home ")])])],1),a("div",{staticClass:"onHover grd2"},[a("router-link",{attrs:{to:"/myposts"}},[a("h3",[t._v("My Posts")])])],1),a("div",{staticClass:"grd2"},[a("button",{ref:"logoutBtn",staticClass:"mdc-button mdc-button--outlined btnScale customTheme wideBtn",on:{click:t.logout}},[a("span",{staticClass:"mdc-button__ripple"}),a("span",{staticClass:"mdc-button__label"},[t._v("Logout")]),a("span",{staticClass:"mdc-button__touch"})])])])},vt=[],_t={name:"Navbar_in",methods:{logout:function(){_.a.get("/api/logout").then((function(){console.log("Log out successful"),localStorage.removeItem("Id"),kt.push("/login")}))}},mounted:function(){this.ripple=new f["a"](this.$refs.logoutBtn)},destroyed:function(){this.ripple.destroy()}},ft=_t,ht=(s("da92"),Object(c["a"])(ft,mt,vt,!1,null,"451863f9",null)),bt=ht.exports;function gt(t,e,s){_.a.get("/api/safeguard").then((function(t){1==t.data.login?s("/"):s()}))}function Ct(t,e,s){function a(){alert("Please log in")}_.a.get("/api/safeguard").then((function(t){1==t.data.login?s():(s("/login"),a())}))}a["a"].use(d["a"]);var wt=[{path:"/login",name:"login",beforeEnter:gt,components:{a:pt,b:C}},{path:"/register",name:"register",beforeEnter:gt,components:{a:pt,b:P}},{path:"/",name:"main",beforeEnter:Ct,components:{a:bt,b:M}},{path:"/post/:id",name:"post",beforeEnter:Ct,components:{a:bt,b:it}},{path:"/createpost",name:"createpost",beforeEnter:Ct,components:{a:bt,b:W}},{path:"/myposts",name:"myposts",beforeEnter:Ct,components:{a:bt,b:tt}},{path:"*",name:"*",beforeEnter:Ct,components:{a:bt,b:M}}],yt=new d["a"]({mode:"history",routes:wt}),kt=yt;a["a"].config.productionTip=!1;var Dt=new a["a"];new a["a"]({router:kt,render:function(t){return t(u)}}).$mount("#app")},"5c0b":function(t,e,s){"use strict";var a=s("9c0c"),n=s.n(a);n.a},6506:function(t,e,s){},7558:function(t,e,s){"use strict";var a=s("05cc"),n=s.n(a);n.a},9229:function(t,e,s){"use strict";var a=s("6506"),n=s.n(a);n.a},"9c0c":function(t,e,s){},"9c11":function(t,e,s){},b3d2:function(t,e,s){"use strict";var a=s("2aba"),n=s.n(a);n.a},b86a:function(t,e,s){},d5b5:function(t,e,s){s("d3b7");var a=s("bc3a");e.getPosts=function(t){return new Promise((function(e,s){if(a.get(t)){var n=a.get(t);return e(n)}return console.log("error"),s()}))}},da92:function(t,e,s){"use strict";var a=s("b86a"),n=s.n(a);n.a},dbec:function(t,e,s){"use strict";var a=s("3c42"),n=s.n(a);n.a},e0dd:function(t,e,s){t.exports=s.p+"img/logo.80bc3792.png"},f5a9:function(t,e,s){"use strict";var a=s("2052"),n=s.n(a);n.a}});
//# sourceMappingURL=app.341b2560.js.map